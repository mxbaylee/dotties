#!/bin/bash

# Repeatedly runs a command with optional delay between executions.
#
# Usage:
#   infinite         command  # Run continuously
#   infinite 5       command  # Run every 5 seconds
#
# Example:
#   infinite 2 date  # Shows date every 2 seconds

is_number() {
  [[ "$1" =~ ^[0-9]+$ ]]
}

sleep_time=${1}
if ! is_number "$sleep_time"; then
  sleep_time=0
else
  shift
fi

command="$@"

while true; do
  eval "$command"
  sleep $sleep_time
done
